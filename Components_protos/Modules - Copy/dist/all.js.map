{"version":3,"sources":["HtmlControl.js","Osc.js","Patch.js","Voice.js","synth.js"],"names":[],"mappings":"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","file":"all.js","sourcesContent":["class HtmlControl {\n  //Slider control\n  static createSlider({id, className='', labelText, min, max, step, value, advanced=false} = {}) {\n    var valueIndicator;\n    var label;\n    var slider = document.createElement('input');\n\n\n    //simple slider\n    slider.setAttribute('type', 'range');\n    //slider.id = id;\n    slider.className = 'parameter' + ' ' + className;\n    slider.min = min;\n    slider.max = max;\n    slider.step = step;\n    slider.value = value;\n\n\n    //advanced slider\n    if(advanced) {\n      //create html elements\n      label = document.createElement('label');\n      valueIndicator = document.createElement('input');\n      valueIndicator.className = 'parameter';\n\n      //label\n      label.textContent = labelText;\n\n\n      //value indicator\n      valueIndicator.id = id;\n      valueIndicator.setAttribute('type', 'number');\n      valueIndicator.min = min;\n      valueIndicator.max = max;\n      valueIndicator.value = value;\n      valueIndicator.step = step;\n      valueIndicator.addEventListener('input', (e) => {\n        slider.value = e.target.value;\n      }, false);\n\n\n      //slider\n      slider.classList.remove('parameter');\n      slider.addEventListener('input', (e)=>{\n        valueIndicator.value = e.target.value;\n        valueIndicator.dispatchEvent(new MouseEvent('input'));\n      }, false);\n\n      return {slider, label, valueIndicator};\n    }\n\n    return {slider};\n  }\n\n\n  static createSelect({id, labelText, options=[]} = {}) {\n    var select = document.createElement('select');\n    var label = document.createElement('label');\n    select.id = id;\n    select.className = 'parameter';\n    label.setAttribute('for', id);\n    label.textContent = labelText;\n    for (let i = 0; i < options.length; i++) {\n      let option = select.appendChild(document.createElement('option'));\n      option.value = options[i];\n      option.innerHTML = options[i];\n    }\n\n    return {select, label};\n  }\n\n  static createNumericTextBox({id, labelText, min = 0, max = 1, value = 1} = {}) {\n    var input = document.createElement('input');\n    var label = document.createElement('label');\n    input.id = id;\n    input.className = 'parameter';\n    input.setAttribute('type', 'number');\n    input.min = min;\n    input.max = max;\n    input.value = value;\n    label.setAttribute('for', id);\n    label.textContent = labelText;\n\n    return {input, label};\n  }\n\n\n  static createCheckBox({id, labelText, className} = {}) {\n    var input = document.createElement('input');\n    var label = document.createElement('label');\n\n    input.id = id;\n    input.className = className;\n    input.setAttribute('type', 'checkbox');\n\n    label.setAttribute('for', id);\n    label.innerHTML = labelText;\n\n    return {input, label};\n\n  }\n}\n","class Oscillator {\n  constructor(ctx) {\n    this.wave = 'sine';\n    this.gain = 1;\n    this.pitch = 0;\n    this.ctx = ctx;\n    //create VCO (voltage controlled oscillator)\n    this.vco = this.ctx.createOscillator();\n\n    //create VCA (voltage controlled amplifier)\n    this.vca = this.ctx.createGain();\n\n    //vco->vca->destination\n    this.vco.connect(this.vca);\n    this.vca.connect(this.ctx.destination);\n  }\n  //get/set wave type\n  getType() {\n    return this.vco.type;\n  }\n  setType(wave) {\n    this.vco.type = wave;\n  }\n\n  //get/set gain\n  getGain() {\n    return this.vca.gain.value;\n  }\n  setGain(value) {\n    this.vca.gain.value = value;\n    this.vca.gain.setTargetAtTime(0, this.ctx.currentTime, .5);\n  }\n\n  //get/set pitch\n  getPitch() {\n    return this.vco.detune.value;\n  }\n  setPitch(value) {\n    this.vco.detune.value = value;\n  }\n\n  //get/set frequency\n  getFrequency() {\n    return this.vco.frequency.value;\n  }\n  setFrequency(value) {\n    this.vco.frequency.value = value;\n  }\n\n  //connect vca->external_node\n  connect(node) {\n    this.vca.connect(node);\n  }\n\n  //start/stop\n  start(time=0) {\n    this.vco.start(time);\n  }\n  stop(time=0) {\n    this.vco.stop(time);\n  }\n}","class Patch {\n  constructor(){\n    this._patch = {\n      'Osc1_power': 'on',\n      'Osc1_wave': 'square',\n      'Osc1_pitch': 0,\n      'Osc1_gain': .8\n    }\n  }\n\n  setParameter(parameter, value) {\n    this._patch[parameter] = value;\n  }\n\n  getParameter(parameter) {\n    return this._patch[parameter];\n  }\n}\n","class Voice {\n  constructor(note, ctx) {\n    this.note = note;\n    this.ctx = ctx;\n    this.oscillators = [];\n  }\n\n  start(velocity) {\n    var vco1 = new Oscillator(this.ctx);\n    vco1.setType(patch.getParameter('Osc1_wave'));\n    vco1.setGain(patch.getParameter('Osc1_gain') * velocity);\n    var pitch = +patch.getParameter('Osc1_pitch');\n    vco1.setFrequency(equalTempered440[this.note + pitch]);\n    //console.log(this.frequency)\n    vco1.start();\n    this.oscillators.push(vco1);\n  }\n\n  stop(time=0) {\n    this.oscillators.forEach(function(oscillators){\n      oscillators.stop(time);\n    });\n  }\n}\n","\n\n  var patch;\n  var equalTempered440;\n\n\n  window.onload = function() {\n    patch = new Patch();\n    equalTempered440 = [16.35, 17.32, 18.35, 19.45, 20.60, 21.83, 23.12, 24.50, 25.96, 27.50, 29.14, 30.87, 32.70, 34.65, 36.71, 38.89, 41.20, 43.65, 46.25, 49, 51.91, 55, 58.27, 61.74, 65.41, 69.3, 73.42, 77.78, 82.41, 87.31, 92.5, 98, 103.83, 110, 116.54, 123.47, 130.81, 138.59, 146.83, 155.56, 164.81, 174.61, 185, 196, 207.65, 220, 233.08, 246.94, 261.63, 277.18, 293.66, 311.13, 329.63, 349.23, 369.99, 392, 415.3, 440, 466.16, 493.88, 523.25, 554.37, 587.33, 622.25, 659.25, 698.46, 739.99, 783.99, 830.61, 880, 932.33, 987.77, 1046.50, 1108.73, 1174.66, 1244.51, 1318.51, 1396.91, 1479.98, 1567.98, 1661.22, 1760, 1864.66, 1975.53, 2093, 2217.46, 2349.32, 2489.02, 2637.02, 2793.83, 2959.96, 3135.96, 3322.44, 3520, 3729.31, 3951.07, 4186.01, 4434.92, 4698.63, 4978.03, 5274.04, 5587.65, 5919.91, 6271.93, 6644.88, 7040, 7458.62, 7902.13];\n\n    var ctx = new AudioContext();\n    var active_voices = {};\n\n    //Request midi accsess\n    navigator.requestMIDIAccess().then(function(midiAccess) {\n      console.log(\"MIDI ready!\");\n      var inputs = midiAccess.inputs.values();\n      for (var input = inputs.next() ; input && !input.done; input = inputs.next()) {\n        input.value.onmidimessage = onMIDIMessage;\n      }\n    }, function(msg){\n      console.log(\"Failed to get MIDI access - \", msg);\n    });\n\n    //OnMidiMessage event handler\n    function onMIDIMessage(event) {\n      console.log(event.data);\n      var status = event.data[0];\n      var note = event.data[1];\n      var velocity = event.data[2]/255; //normalize: velocity -> gain: [0,255] -> [0,1]\n      var voice;\n      if(status !== 144) {\n        return; //mod wheel and pitch wheel break the synth - TODO: fix that\n      }\n\n      if(velocity > 0) {\n        console.log('-->',ctx)\n        voice = new Voice(note, ctx);\n        active_voices[note] = voice;\n        voice.start(velocity);\n      } else {\n        active_voices[note].stop(ctx.currentTime + 3);\n        delete active_voices[note];\n      }\n    }\n\n    //Initialize synth\n    initSynth();\n\n    //Initialize patch\n    initPatch();\n  }\n\n  //Initialize patch function\n  function initPatch() {\n    var params = document.getElementsByClassName('parameter');\n    [].forEach.call(params, function(v){\n\n\n      v.value = patch.getParameter(v.id);\n      v.addEventListener('input', function (e){\n        //v.dispatchEvent(new Event('onmidimessage'));\n        console.log(e.target.id, e.target.value);\n        patch.setParameter(e.target.id, e.target.value);\n\n      }, false);\n    });\n  }\n\n  //Initialize synth function\n  function initSynth() {\n    var oscProto = Object.create(HTMLElement.prototype);\n\n    oscProto.createdCallback = function() {\n      var gainControl = HtmlControl.createSlider({\n        id: this.id + '_gain',\n        advanced: true,\n        labelText: 'Amp: ',\n        min: 0,\n        max: 1,\n        step: 0.1,\n        value: patch.getParameter(this.id + '_gain'),\n        className: 'slider'\n      });\n\n      var waveTypeControl = HtmlControl.createSelect({\n        id: this.id + '_wave',\n        labelText: 'Wave Type: ',\n        options: ['sine', 'square', 'triangle', 'sawtooth']\n      });\n\n      var pitchControl = HtmlControl.createNumericTextBox({\n          id: this.id + '_pitch',\n          labelText: 'Pitch: ',\n          min: -64,\n          max: 64,\n          value: 0\n      });\n\n      var powerControl = HtmlControl.createCheckBox({\n        id: this.id + '_power',\n        labelText: 'On/Off: ',\n        className: 'power'\n      });\n\n      //on/off\n      this.appendChild(powerControl.label);\n      this.appendChild(powerControl.input);\n\n      //gain control\n      gainControl.label.setAttribute('for', this.id + '_gain');\n      this.appendChild(gainControl.label);\n      this.appendChild(gainControl.slider);\n      this.appendChild(gainControl.valueIndicator);\n\n      //wave type control\n      this.appendChild(waveTypeControl.label);\n      this.appendChild(waveTypeControl.select);\n\n      //pitch control\n      this.appendChild(pitchControl.label);\n      this.appendChild(pitchControl.input)\n    };\n    document.registerElement('x-osc', {prototype: oscProto});\n  }\n"],"sourceRoot":"/source/"}